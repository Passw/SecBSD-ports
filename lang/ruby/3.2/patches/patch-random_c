Index: random.c
--- random.c.orig
+++ random.c
@@ -45,8 +45,8 @@
 # include <bcrypt.h>
 #endif
 
-#if defined(__OpenBSD__) || defined(__FreeBSD__) || defined(__NetBSD__)
-/* to define OpenBSD and FreeBSD for version check */
+#if defined(__SecBSD__) || defined(__FreeBSD__) || defined(__NetBSD__)
+/* to define SecBSD and FreeBSD for version check */
 # include <sys/param.h>
 #endif
 
@@ -544,7 +544,7 @@ fill_random_bytes_syscall(void *seed, size_t size, int
 static int
 fill_random_bytes_syscall(void *buf, size_t size, int unused)
 {
-#if (defined(__OpenBSD__) && OpenBSD >= 201411) || \
+#if (defined(__SecBSD__) && SecBSD >= 201411) || \
     (defined(__NetBSD__)  && __NetBSD_Version__ >= 700000000) || \
     (defined(__FreeBSD__) && __FreeBSD_version >= 1200079)
     arc4random_buf(buf, size);
